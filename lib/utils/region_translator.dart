class RegionTranslator {
  static const Map<String, String> _regionMap = {
    // 홋카이도 지역
    '北海道': '홋카이도',
    '北海道地方': '홋카이도 지방',
    '宗谷地方': '소야 지방',
    '上川地方': '가미카와 지방',
    '留萌地方': '루모이 지방',
    '石狩地方': '이시카리 지방',
    '空知地方': '소라치 지방',
    '後志地方': '시리베시 지방',
    '渡島地方': '오시마 지방',
    '檜山地方': '히야마 지방',
    '胆振地方': '이부리 지방',
    '日高地方': '히다카 지방',
    '十勝地方': '도카치 지방',
    '釧路地方': '쿠시로 지방',
    '根室地方': '네무로 지방',
    
    // 도호쿠 지역
    '青森県': '아오모리현',
    '岩手県': '이와테현',
    '宮城県': '미야기현',
    '秋田県': '아키타현',
    '山形県': '야마가타현',
    '福島県': '후쿠시마현',
    '東北地方': '도호쿠 지방',
    '津軽': '쓰가루',
    '下北': '시모키타',
    '三陸': '산리쿠',
    '置賜': '오키타마',
    '庄内': '쇼나이',
    '会津': '아이즈',
    '中通り': '나카도리',
    '浜通り': '하마도리',
    
    // 간토 지역
    '茨城県': '이바라키현',
    '栃木県': '도치기현',
    '群馬県': '군마현',
    '埼玉県': '사이타마현',
    '千葉県': '치바현',
    '東京都': '도쿄도',
    '神奈川県': '가나가와현',
    '関東地方': '간토 지방',
    '北関東': '기타간토',
    '南関東': '미나미간토',
    '多摩': '다마',
    '島嶼': '도서',
    
    // 주부 지역
    '新潟県': '니가타현',
    '富山県': '도야마현',
    '石川県': '이시카와현',
    '福井県': '후쿠이현',
    '山梨県': '야마나시현',
    '長野県': '나가노현',
    '岐阜県': '기후현',
    '静岡県': '시즈오카현',
    '愛知県': '아이치현',
    '中部地方': '주부 지방',
    '北陸地方': '호쿠리쿠 지방',
    '東海地方': '도카이 지방',
    '甲信地方': '고신 지방',
    '上越': '조에쓰',
    '中越': '주에쓰',
    '下越': '가에쓰',
    '佐渡': '사도',
    '能登': '노토',
    '加賀': '가가',
    '嶺北': '레이호쿠',
    '嶺南': '레이난',
    '国中': '구니나카',
    '郡内': '군나이',
    '北信': '호쿠신',
    '中信': '주신',
    '東信': '도신',
    '南信': '난신',
    '飛騨': '히다',
    '美濃': '미노',
    '伊豆': '이즈',
    '東部': '동부',
    '中部': '중부',
    '西部': '서부',
    
    // 긴키 지역
    '三重県': '미에현',
    '滋賀県': '시가현',
    '京都府': '교토부',
    '大阪府': '오사카부',
    '兵庫県': '효고현',
    '奈良県': '나라현',
    '和歌山県': '와카야마현',
    '近畿地方': '긴키 지방',
    '関西地方': '간사이 지방',
    '北部': '북부',
    '南部': '남부',
    '丹波': '단바',
    '丹後': '단고',
    '播磨': '하리마',
    '但馬': '다지마',
    '淡路': '아와지',
    '紀伊': '기이',
    '紀北': '기호쿠',
    '紀南': '기난',
    
    // 주고쿠 지역
    '鳥取県': '돗토리현',
    '島根県': '시마네현',
    '岡山県': '오카야마현',
    '広島県': '히로시마현',
    '山口県': '야마구치현',
    '中国地方': '주고쿠 지방',
    '山陰': '산인',
    '山陽': '산요',
    '隠岐': '오키',
    '石見': '이와미',
    '出雲': '이즈모',
    '備前': '비젠',
    '備中': '빗추',
    '備後': '빙고',
    '安芸': '아키',
    '周防': '스오',
    '長門': '나가토',
    
    // 시코쿠 지역
    '徳島県': '도쿠시마현',
    '香川県': '가가와현',
    '愛媛県': '에히메현',
    '高知県': '고치현',
    '四国地方': '시코쿠 지방',
    '阿波': '아와',
    '讃岐': '사누키',
    '伊予': '이요',
    '土佐': '도사',
    
    // 규슈 지역
    '福岡県': '후쿠오카현',
    '佐賀県': '사가현',
    '長崎県': '나가사키현',
    '熊本県': '구마모토현',
    '大分県': '오이타현',
    '宮崎県': '미야자키현',
    '鹿児島県': '가고시마현',
    '九州地方': '규슈 지방',
    '筑前': '치쿠젠',
    '筑後': '치쿠고',
    '肥前': '히젠',
    '肥後': '히고',
    '豊前': '부젠',
    '豊後': '분고',
    '日向': '휴가',
    '大隅': '오스미',
    '薩摩': '사쓰마',
    '壱岐': '이키',
    '対馬': '쓰시마',
    '五島': '고토',
    
    // 오키나와 지역
    '沖縄県': '오키나와현',
    '沖縄地方': '오키나와 지방',
    '沖縄本島': '오키나와 본섬',
    '久米島': '구메지마',
    '宮古島': '미야코지마',
    '石垣島': '이시가키지마',
    '西表島': '이리오모테지마',
    '与那国島': '요나구니지마',
    '先島': '사키시마',
    '八重山': '야에야마',
    
    // 해역 및 특별 지역
    '東京湾': '도쿄만',
    '相模湾': '사가미만',
    '駿河湾': '스루가만',
    '遠州灘': '엔슈나다',
    '熊野灘': '구마노나다',
    '紀伊水道': '기이수도',
    '大阪湾': '오사카만',
    '播磨灘': '하리마나다',
    '備讃瀬戸': '비산세토',
    '安芸灘': '아키나다',
    '周防灘': '스오나다',
    '伊予灘': '이요나다',
    '豊後水道': '분고수도',
    '日向灘': '휴가나다',
    '有明海': '아리아케해',
    '八代海': '야쓰시로해',
    '鹿児島湾': '가고시마만',
    '薩摩半島': '사쓰마반도',
    '大隅半島': '오스미반도',
    '種子島': '다네가시마',
    '屋久島': '야쿠시마',
    '奄美大島': '아마미오시마',
    '徳之島': '도쿠노시마',
    '沖永良部島': '오키노에라부지마',
    '与論島': '요론지마',
    
    // 해외 영토
    '小笠原': '오가사와라',
    '硫黄島': '이오지마',
    '南鳥島': '미나미토리시마',
    '父島': '치치지마',
    '母島': '하하지마',
    
    // 특별 지역
    'トカラ列島': '도카라열도',
    'トカラ列島近海': '도카라열도 근해',
    '薩南諸島': '사쓰난제도',
    '大隅諸島': '오스미제도',
    '奄美諸島': '아마미제도',
    '琉球諸島': '류큐제도',
    '南西諸島': '남서제도',
    '先島諸島': '사키시마제도',
    '八重山諸島': '야에야마제도',
    '宮古諸島': '미야코제도',
    
    // 화산 관련
    '桜島': '사쿠라지마',
    '霧島': '기리시마',
    '阿蘇': '아소',
    '雲仙': '운젠',
    '富士山': '후지산',
    '箱根': '하코네',
    '伊豆大島': '이즈오시마',
    '三宅島': '미야케지마',
    '新島': '니지마',
    '神津島': '고즈시마',
    '八丈島': '하치조지마',
    '青ヶ島': '아오가시마',
    
    // 해역 세분화
    '日本海': '동해',
    '太平洋': '태평양',
    '東シナ海': '동중국해',
    '津軽海峡': '쓰가루해협',
    '宗谷海峡': '소야해협',
    '根室海峡': '네무로해협',
    '択捉海峡': '에토로푸해협',
    '千島海峡': '치시마해협',
    '対馬海峡': '쓰시마해협',
    '朝鮮海峡': '조선해협',
    '関門海峡': '간몬해협',
    '明石海峡': '아카시해협',
    '鳴門海峡': '나루토해협',
    '来島海峡': '구루시마해협',
    '豊予海峡': '호요해협',
    '大隅海峡': '오스미해협',
    '種子島海峡': '다네가시마해협',
    
    // 방향 표시
    '北': '북',
    '南': '남',
    '東': '동',
    '西': '서',
    '北東': '북동',
    '北西': '북서',
    '南東': '남동',
    '南西': '남서',
    '中央': '중앙',
    '沖': '해상',
    '近海': '근해',
    '沿岸': '연안',
    '内陸': '내륙',
    '山地': '산지',
    '平野': '평야',
    '盆地': '분지',
    '半島': '반도',
    '諸島': '제도',
    '列島': '열도',
    '群島': '군도',
    '水道': '수도',
    '海峡': '해협',
    '湾': '만',
    '灘': '나다',
    '海': '해',
    '洋': '양',
    
    // 일반적인 지명 접미사
    '地方': '지방',
    '県': '현',
    '都': '도',
    '府': '부',
    '市': '시',
    '区': '구',
    '町': '초',
    '村': '촌',
    '島': '지마',
    '山': '산',
    '川': '가와',
    '湖': '호',
    '峠': '고개',
    '谷': '다니',
    '平': '다이라',
    '野': '노',
    '原': '하라',
    '崎': '사키',
    '浜': '하마',
    '浦': '우라',
    '岬': '미사키',
    '岳': '다케',
    '峰': '미네',
    '丘': '오카',
    '台': '다이',
    '高原': '고원',
    
    // 특별한 경우들
    '房総半島': '보소반도',
    '三浦半島': '미우라반도',
    '伊豆半島': '이즈반도',
    '知多半島': '치타반도',
    '渥美半島': '아쓰미반도',
    '志摩半島': '시마반도',
    '紀伊半島': '기이반도',
    '丹後半島': '단고반도',
    '但馬半島': '다지마반도',
    '因幡半島': '이나바반도',
    '出雲半島': '이즈모반도',
    '島根半島': '시마네반도',
    '宍道湖': '신지호',
    '琵琶湖': '비와호',
    '浜名湖': '하마나호',
    '諏訪湖': '스와호',
    '中禅寺湖': '주젠지호',
    '芦ノ湖': '아시노호',
    '河口湖': '가와구치호',
    '山中湖': '야마나카호',
    '西湖': '사이코',
    '精進湖': '쇼지호',
    '本栖湖': '모토스호',
  };

  static String translateRegion(String japaneseRegion) {
    if (japaneseRegion.isEmpty) return japaneseRegion;
    
    // 정확히 일치하는 경우
    if (_regionMap.containsKey(japaneseRegion)) {
      return _regionMap[japaneseRegion]!;
    }
    
    // 부분 일치하는 경우 (가장 긴 매칭부터 시도)
    String result = japaneseRegion;
    List<String> sortedKeys = _regionMap.keys.toList()
      ..sort((a, b) => b.length.compareTo(a.length));
    
    for (String key in sortedKeys) {
      if (result.contains(key)) {
        result = result.replaceAll(key, _regionMap[key]!);
      }
    }
    
    return result;
  }

  static String translateWithFallback(String japaneseRegion) {
    String translated = translateRegion(japaneseRegion);
    
    // 번역되지 않은 경우 원본과 함께 표시
    if (translated == japaneseRegion && _containsJapanese(japaneseRegion)) {
      return '$japaneseRegion (번역 필요)';
    }
    
    return translated;
  }

  static bool _containsJapanese(String text) {
    return text.runes.any((rune) {
      return (rune >= 0x3040 && rune <= 0x309F) ||  // 히라가나
             (rune >= 0x30A0 && rune <= 0x30FF) ||  // 가타카나
             (rune >= 0x4E00 && rune <= 0x9FAF);    // 한자
    });
  }
}